# 💬 聊天界面指南

## 概述

LLMSider 聊天界面是您与 AI 交互的指挥中心。它提供了一个强大且用户友好的方式来与 AI 模型对话、管理上下文和执行工具。

---

## 🎨 界面布局

```
┌─────────────────────────────────────────────┐
│  [提供商标签] GPT-4 | Claude | Gemini      │ ← 快速切换模型
├─────────────────────────────────────────────┤
│  📝 会话: "项目规划"                       │ ← 会话名称
│  [🔄 新建] [📁 历史] [⚙️ 设置]           │ ← 操作
├─────────────────────────────────────────────┤
│                                             │
│  💬 消息区域                                │ ← 对话
│  ─────────────────────────────────────────  │
│  👤 您: 你好!                              │
│  🤖 AI: 有什么可以帮您的?                  │
│                                             │
│  [📎 上下文: 2 个文件]                     │ ← 活动上下文
│                                             │
├─────────────────────────────────────────────┤
│  ✍️ 输入您的消息...                        │ ← 输入区域
│  [📎] [🎙️] [⚙️]                    [发送] │ ← 工具和发送
└─────────────────────────────────────────────┘
```

---

## 🚀 基本用法

### 开始对话

1. **打开聊天视图**
   - 点击左侧边栏的 LLMSider 图标
   - 或: `Cmd+P` → "LLMSider: 打开聊天"
   - 或: 功能区菜单 → "打开 LLMSider 聊天"

2. **输入您的消息**
   - 点击输入区域
   - 输入您的问题或提示
   - 按 `Enter` 或点击发送按钮

3. **查看响应**
   - AI 响应实时显示(流式传输)
   - 工具执行显示进度指示器
   - 结果自动保存

### 消息格式化

LLMSider 支持丰富的 Markdown 格式:

```markdown
**粗体文本**
*斜体文本*
`行内代码`

```代码块```

- 列表
- 项目

1. 编号
2. 列表

> 引用

[链接](https://example.com)
```

---

## 🎯 对话模式

在三种强大的模式之间切换:

### 🗣️ 普通模式
**与 AI 直接对话**

- 快速、即时的响应
- 最适合: 快速提问、头脑风暴、简单任务
- 无需批准

### 🎯 引导模式
**逐步任务分解**

- AI 创建带有步骤的计划
- 您在执行前批准每个步骤
- 最适合: 复杂任务、学习工作流程

### 🤖 代理模式
**具有工具访问权限的自主 AI**

- AI 自动执行工具
- 显示进度和结果
- 最适合: 研究、数据分析、自动化

**切换模式:** 设置 → LLMSider → 默认对话模式

---

## 📋 上下文管理

### 添加上下文

#### 方法 1: 文件选择器
1. 点击输入区域的 📎 图标
2. 从笔记库中选择文件
3. 文件出现在上下文显示中

#### 方法 2: 拖放
1. 从文件浏览器拖动文件
2. 放到输入区域
3. 文件添加到上下文

#### 方法 3: 右键选择
1. 在任何笔记中选择文本
2. 右键 → "添加到 LLMSider 上下文"
3. 文本添加到上下文

#### 方法 4: 文件夹上下文
1. 点击 📎 图标
2. 选择"添加文件夹"
3. 选择文件夹(包含所有文件)

---

## 🔧 高级功能

### 提供商标签

在模型之间快速切换:

```
[GPT-4 ●] [Claude] [Gemini] [Ollama]
```

- ● = 当前活动
- 点击标签切换
- 对话继续使用新模型

### 会话管理

**创建新会话:**
- 点击 🔄 新建会话
- 或: 聊天视图中的 `Cmd+N`

**查看历史:**
- 点击 📁 历史
- 浏览过去的对话
- 点击加载会话

---

## 🛠️ 工具集成

### 内置工具

100+ 个工具可用,涵盖多个类别:

#### 核心工具
- `create_file` - 创建新笔记
- `edit_file` - 修改现有笔记
- `read_file` - 读取笔记内容
- `search_vault` - 搜索笔记库

#### 网页工具
- `fetch_web_content` - 下载网页
- `google_search` - Google 搜索
- `duckduckgo_search` - DuckDuckGo 搜索

#### 金融工具
- `get_stock_quote` - 股票价格
- `get_crypto_price` - 加密货币数据
- `get_forex_rate` - 货币兑换

[查看完整工具列表 →](built-in-tools.md)

---

## ⚙️ 聊天设置

### 显示选项

**差异渲染:**
- 启用: 显示可视化差异
- 禁用: 仅显示文本更改

**消息时间戳:**
- 显示发送时间
- 相对(2 小时前)或绝对(14:30)

**语法高亮:**
- 为代码块启用
- 支持 100+ 种语言

---

## 💡 使用技巧

### 🎯 有效的提示

**要具体:**
```
❌ "帮我写作"
✅ "写一篇关于生产力应用的博客文章(500字,随意语气)"
```

**提供上下文:**
```
❌ "修复这段代码"
✅ "这个 TypeScript 函数应该验证电子邮件。它对有效电子邮件返回 false。代码如下: [粘贴代码]"
```

---

## 🐛 故障排除

### 常见问题

**聊天无响应:**
- 检查网络连接
- 验证 API 密钥有效
- 尝试切换模型
- 检查 Obsidian 控制台错误

**响应慢:**
- 减少上下文文件
- 降低最大令牌数
- 使用更快的模型(GPT-3.5 vs GPT-4)
- 检查提供商状态

---

## 📚 键盘快捷键

| 操作 | 快捷键 | 描述 |
|--------|----------|-------------|
| 打开聊天 | - | 点击功能区图标 |
| 发送消息 | `Enter` | 发送当前消息 |
| 新行 | `Shift+Enter` | 添加换行符 |
| 新会话 | `Cmd+N` | 创建新聊天 |
| 清除上下文 | - | 点击"全部清除" |

---

## 📖 相关指南

- [对话模式](conversation-modes.md) - 模式深入了解
- [内置工具](built-in-tools.md) - 完整工具参考
- [设置指南](settings-guide.md) - 配置

---

**有疑问?** [打开问题](https://github.com/llmsider/obsidian-llmsider/issues) 或 [加入 Discord](https://discord.gg/llmsider)
