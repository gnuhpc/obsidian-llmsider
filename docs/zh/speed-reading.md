# ⚡ 速读功能

速读（Speed Reading）是 LLMSider 的高级笔记分析功能，可以快速生成笔记的深度摘要、核心要点、知识结构图和延伸阅读建议。

## ✨ 功能概述

速读功能使用 AI 对当前笔记进行全面分析，并在侧边抽屉中实时展示以下内容：

- **内容摘要**：200-300 字的精炼总结
- **核心要点**：3-5 个关键观点，重要概念以粗体标注
- **知识结构图**：交互式思维导图，展示笔记的层次结构
- **延伸阅读**：基于内容的相关主题建议
- **可能感兴趣**：根据笔记内容推测的延伸话题

## 🚀 使用方法

### 快速开始

1. **打开要分析的笔记**
   - 在 Obsidian 中打开任意 Markdown 笔记

2. **触发速读**
   - 通过命令面板：`Ctrl/Cmd + P` → 搜索"速读"
   - 或使用快捷键（如已配置）

3. **查看分析结果**
   - 侧边抽屉自动打开，显示实时分析进度
   - AI 流式生成内容，无需等待全部完成即可查看

### 分析结果缓存

- 每个笔记的分析结果会**自动保存**
- 再次打开速读时，会立即显示之前的分析结果
- 节省 API 调用和等待时间

### 重新生成

如果笔记内容已更新或需要新的分析：

1. 在速读抽屉中点击**"重新生成"**按钮
2. 系统会删除旧结果并启动新分析
3. 新结果会覆盖之前的缓存

## 📊 功能特性

### 1. 实时流式输出

- AI 生成内容实时显示，无需等待
- 思维导图节点逐步渲染
- 提升交互体验

### 2. 智能语言识别

- 自动检测笔记语言（中文、英文等）
- 分析结果使用**与笔记相同的语言**输出
- 无需手动配置

### 3. 相关笔记关联

如果启用了向量数据库功能：

- 速读会自动查找最相关的 3 篇笔记
- 将相关笔记内容作为上下文参考
- 生成更全面、有深度的分析结果
- 在"可能感兴趣"部分提供基于知识库的延伸话题

### 4. 知识结构可视化

- 使用 **jsMind** 生成交互式思维导图
- 支持节点展开/折叠
- 清晰展示笔记的层次结构
- 至少 3 层节点深度

### 5. 核心要点高亮

- 每个核心要点中的关键词自动**加粗**
- 快速定位重要概念
- 便于快速回顾

## ⚙️ 配置要求

### 必需配置

1. **AI 连接**
   - 必须配置至少一个 AI 提供商（OpenAI、Claude、GitHub Copilot 等）
   - 在设置 → LLMSider → 连接中配置

2. **活跃模型**
   - 至少有一个可用的模型
   - 建议使用 GPT-4、Claude 等高质量模型

### 可选配置

1. **向量数据库**（推荐）
   - 启用后可关联相关笔记
   - 提供更丰富的分析上下文
   - 查看 [搜索增强配置](search-enhancement.md)

2. **快捷键**
   - 在设置 → 快捷键中为"速读"命令配置快捷键
   - 提升访问效率

## 💡 使用技巧

### 最佳实践

1. **适用笔记类型**
   - 长篇文章、学习笔记效果最佳
   - 内容丰富、结构清晰的笔记
   - 技术文档、读书笔记等

2. **优化分析质量**
   - 使用标题层级（`#`、`##`、`###`）组织内容
   - 启用向量数据库以获取相关笔记参考
   - 确保笔记内容完整且有意义

3. **结果复用**
   - 分析结果会自动保存
   - 适合定期回顾的长期笔记
   - 内容未变时无需重复分析

### 性能优化

- 速读使用流式 API 调用，响应速度快
- 大型笔记（5000+ 字）可能需要较长时间
- 相关笔记查询会增加少量处理时间（通常 <2 秒）

## 🔍 示例场景

### 场景 1：学习笔记总结

1. 完成一篇深度学习笔记
2. 使用速读生成总结和要点
3. 查看思维导图理清知识结构
4. 根据延伸阅读建议继续深入

### 场景 2：快速复习

1. 打开之前的笔记
2. 触发速读（立即显示缓存结果）
3. 通过摘要和要点快速回顾
4. 查看思维导图定位关键部分

### 场景 3：知识关联

1. 启用向量数据库
2. 对新笔记使用速读
3. 系统自动关联相关笔记
4. 在"可能感兴趣"中发现知识库内的延伸话题

## 🛠️ 技术细节

### 数据存储

- 速读结果存储在 SQLite 数据库中
- 位置：`.obsidian/plugins/obsidian-llmsider/memory-data/`
- 表名：`speed_reading_results`
- 字段包括：笔记路径、标题、摘要、要点、思维导图等

### API 调用

- 使用当前活跃的 AI 提供商
- 采用流式（Streaming）API
- 单次调用生成全部分析内容
- Token 使用量取决于笔记长度（通常 1000-5000 tokens）

### 思维导图格式

速读使用 jsMind 节点格式：

```json
{"id":"root","topic":"主题"}
{"id":"sub1","parentid":"root","topic":"子主题1","direction":"right"}
{"id":"sub2","parentid":"root","topic":"子主题2","direction":"left"}
```

- 每行一个完整节点 JSON 对象
- 根节点包含 `id` 和 `topic`
- 子节点包含 `id`、`parentid`、`topic`、`direction`

## 🚫 限制与注意事项

1. **仅支持 Markdown 文件**
   - 非 `.md` 文件无法使用速读
   - PDF、图片等需先转换或提取文本

2. **需要 AI 连接**
   - 必须配置有效的 API 密钥
   - 无可用模型时功能不可用

3. **内容长度限制**
   - 受模型上下文窗口限制（通常 4K-128K tokens）
   - 超长笔记可能被截断或失败

4. **语言支持**
   - AI 会自动识别并匹配笔记语言
   - 但分析质量取决于模型对该语言的支持程度

5. **网络要求**
   - 需要稳定的网络连接
   - API 调用失败会显示错误提示

## 📚 相关文档

- [搜索增强](search-enhancement.md) - 启用相关笔记关联
- [连接与模型](connections-and-models.md) - 配置 AI 提供商
- [设置指南](settings-guide.md) - 完整配置说明

---

**提示**：速读功能旨在帮助您快速理解和组织笔记内容，但不应完全取代深度阅读。建议将其作为辅助工具，配合自己的思考和理解使用。
